{"ast":null,"code":"import _slicedToArray from \"/Users/ronnamaefirmo/Downloads/projects/caldura/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/ronnamaefirmo/Downloads/projects/caldura/src/App.tsx\";\nimport * as React from 'react';\nimport { StyleSheet, css } from 'aphrodite';\n\nconst App = () => {\n  const initialInput = {\n    value: '',\n    error: ''\n  };\n  const initialResult = {\n    duration: '00:00',\n    decimal: 0.0\n  };\n\n  const _React$useState = React.useState([initialInput]),\n        _React$useState2 = _slicedToArray(_React$useState, 2),\n        inputs = _React$useState2[0],\n        setInputs = _React$useState2[1];\n\n  const _React$useState3 = React.useState(initialResult),\n        _React$useState4 = _slicedToArray(_React$useState3, 2),\n        result = _React$useState4[0],\n        setResult = _React$useState4[1];\n\n  const addInput = () => {\n    setInputs([...inputs, initialInput]);\n  };\n\n  const handleInput = (index, value) => {\n    let newInputs = [...inputs];\n    newInputs[index].value = value;\n    setInputs(newInputs);\n  };\n\n  const removeInput = index => {\n    if (inputs.length > 1) {\n      let newInputs = [...inputs];\n      newInputs.splice(index, 1);\n      setInputs(newInputs);\n    }\n  };\n\n  const validateInput = (index, value) => {\n    let newInputs = [...inputs];\n    const durationRegex = /^\\d{2}:\\d{2}(:\\d{2})?$/;\n\n    if (!durationRegex.test(value)) {\n      newInputs[index].error = '⚠️ Invalid format!';\n    } else {\n      newInputs[index].error = '';\n    }\n\n    setInputs(newInputs);\n  };\n\n  const _isValidationError = () => {\n    return inputs.some(input => input.error);\n  };\n\n  const _isInputsEmpty = () => {\n    return inputs.some(input => !input.value);\n  };\n\n  const calculate = () => {\n    if (!_isValidationError() && !_isInputsEmpty()) {\n      // calculate duration in decimal\n      let totalHours = 0.0;\n\n      for (let i = 0; i < inputs.length; i++) {\n        const element = inputs[i].value;\n        const splits = element.split(':');\n        const hours = parseFloat(splits[0]);\n        const minsToHours = parseFloat(splits[1]) / 60;\n        const secsToHours = parseFloat(splits[2]) / 3600 || 0;\n        totalHours += hours + minsToHours + secsToHours;\n      } // calculate duration in 00:00 format based on totalHours\n\n\n      const decimalSplits = \"\".concat(totalHours).split('.');\n      const hours = parseInt(decimalSplits[0]);\n      const mins = (totalHours - hours) * 60;\n      const minSplits = \"\".concat(mins).split('.');\n      const hourStr = decimalSplits[0].length < 2 ? \"0\".concat(decimalSplits[0]) : decimalSplits[0];\n      const minStr = minSplits[0].length < 2 ? \"0\".concat(minSplits[0]) : minSplits[0];\n      const duration = \"\".concat(hourStr, \":\").concat(minStr);\n      setResult({\n        decimal: totalHours,\n        duration\n      });\n    }\n  };\n\n  const clear = () => {\n    setInputs([initialInput]);\n    setResult(initialResult);\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      margin: 16,\n      fontFamily: 'sans-serif'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 7\n    }\n  }, \"Calculate Duration\"), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      width: 60,\n      height: 5,\n      borderRadius: 5,\n      background: 'lightblue'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      marginTop: 24,\n      width: 420\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      display: 'flex',\n      justifyContent: 'space-between',\n      alignItems: 'center'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 11\n    }\n  }, \"Input a time duration in string to get started\"), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: addInput,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 11\n    }\n  }, \"Add field\")), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      marginTop: 16\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 9\n    }\n  }, inputs.map((el, i) => {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      key: \"inputs\".concat(i),\n      style: {\n        margin: '14px 0',\n        height: 24\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      style: {\n        height: 'inherit',\n        marginRight: 6\n      },\n      value: el.value,\n      onBlur: e => validateInput(i, e.target.value),\n      onChange: e => handleInput(i, e.target.value),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"button\", {\n      style: {\n        height: 30\n      },\n      onClick: () => removeInput(i),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 17\n      }\n    }, \"x\"), el.error && /*#__PURE__*/React.createElement(\"span\", {\n      style: {\n        marginLeft: 16,\n        fontSize: 14,\n        color: '#EF5D7B'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 19\n      }\n    }, el.error));\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      marginTop: 24\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    className: css([styles.defaultButton, styles.calculateButton]),\n    onClick: calculate,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 11\n    }\n  }, \"Calculate!\"), /*#__PURE__*/React.createElement(\"button\", {\n    className: css([styles.defaultButton, styles.clearButton]),\n    onClick: clear,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 11\n    }\n  }, \"x\"), /*#__PURE__*/React.createElement(\"span\", {\n    className: css(styles.result),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 11\n    }\n  }, result.decimal.toFixed(2)), /*#__PURE__*/React.createElement(\"span\", {\n    className: css(styles.result),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 11\n    }\n  }, result.duration)), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      marginTop: 64\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      fontSize: 13,\n      color: '#B3B3B3'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 11\n    }\n  }, \"Ronna Firmo \\xA92020\"), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      fontSize: 9,\n      color: '#D9D9D9'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 11\n    }\n  }, \"Made to calculate total duration in decimal for my timesheet\"))));\n};\n\nconst styles = StyleSheet.create({\n  defaultButton: {\n    marginTop: 12,\n    border: 0,\n    borderRadius: 2,\n    boxShadow: '0 4px 0 0 #C9C9C9',\n    outline: 'none',\n    ':hover': {\n      background: '#EBEBEB'\n    },\n    ':active': {\n      background: '#E4E4E4',\n      boxShadow: '0 2px 0 0 #C9C9C9',\n      transform: 'translate(0, 2px)'\n    }\n  },\n  calculateButton: {\n    padding: '12px 18px'\n  },\n  clearButton: {\n    padding: 12,\n    marginLeft: 4\n  },\n  result: {\n    marginLeft: 24,\n    fontSize: 18,\n    fontWeight: 'bold',\n    background: 'yellow',\n    padding: '0px 6px'\n  }\n});\nexport default App;","map":{"version":3,"sources":["/Users/ronnamaefirmo/Downloads/projects/caldura/src/App.tsx"],"names":["React","StyleSheet","css","App","initialInput","value","error","initialResult","duration","decimal","useState","inputs","setInputs","result","setResult","addInput","handleInput","index","newInputs","removeInput","length","splice","validateInput","durationRegex","test","_isValidationError","some","input","_isInputsEmpty","calculate","totalHours","i","element","splits","split","hours","parseFloat","minsToHours","secsToHours","decimalSplits","parseInt","mins","minSplits","hourStr","minStr","clear","margin","fontFamily","width","height","borderRadius","background","marginTop","display","justifyContent","alignItems","map","el","marginRight","e","target","marginLeft","fontSize","color","styles","defaultButton","calculateButton","clearButton","toFixed","create","border","boxShadow","outline","transform","padding","fontWeight"],"mappings":"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","sourcesContent":["import * as React from 'react'\nimport { StyleSheet, css } from 'aphrodite'\n\ntype Props = {}\ntype SingleInputState = {\n  value: string\n  error: string\n}\ntype SingleResultState = {\n  duration: string\n  decimal: number\n}\n\nconst App: React.FC<Props> = () => {\n  const initialInput: SingleInputState = { value: '', error: '' }\n  const initialResult: SingleResultState = { duration: '00:00', decimal: 0.0 }\n\n  const [inputs, setInputs] = React.useState<SingleInputState[]>([initialInput])\n  const [result, setResult] = React.useState<SingleResultState>(initialResult)\n\n  const addInput = (): void => {\n    setInputs([...inputs, initialInput])\n  }\n\n  const handleInput = (index: number, value: string): void => {\n    let newInputs = [...inputs]\n    newInputs[index].value = value\n    setInputs(newInputs)\n  }\n\n  const removeInput = (index: number): void => {\n    if (inputs.length > 1) {\n      let newInputs = [...inputs]\n      newInputs.splice(index, 1)\n      setInputs(newInputs)\n    }\n  }\n\n  const validateInput = (index: number, value: string): void => {\n    let newInputs = [...inputs]\n\n    const durationRegex = /^\\d{2}:\\d{2}(:\\d{2})?$/\n    if (!durationRegex.test(value)) {\n      newInputs[index].error = '⚠️ Invalid format!'\n    } else {\n      newInputs[index].error = ''\n    }\n    setInputs(newInputs)\n  }\n\n  const _isValidationError = () => {\n    return inputs.some(input => input.error)\n  }\n\n  const _isInputsEmpty = () => {\n    return inputs.some(input => !input.value)\n  }\n\n  const calculate = (): void => {\n    if (!_isValidationError() && !_isInputsEmpty()) {\n      // calculate duration in decimal\n      let totalHours = 0.0\n      for (let i = 0; i < inputs.length; i++) {\n        const element = inputs[i].value\n        const splits = element.split(':')\n\n        const hours = parseFloat(splits[0])\n        const minsToHours = parseFloat(splits[1]) / 60\n        const secsToHours = (parseFloat(splits[2]) / 3600) || 0\n\n        totalHours += hours + minsToHours + secsToHours\n      }\n\n      // calculate duration in 00:00 format based on totalHours\n      const decimalSplits = `${totalHours}`.split('.')\n      const hours = parseInt(decimalSplits[0])\n      const mins = (totalHours - hours) * 60\n\n      const minSplits = `${mins}`.split('.')\n      const hourStr = decimalSplits[0].length < 2 ? `0${decimalSplits[0]}` : decimalSplits[0]\n      const minStr = minSplits[0].length < 2 ? `0${minSplits[0]}` : minSplits[0]\n\n      const duration = `${hourStr}:${minStr}`\n\n      setResult({ decimal: totalHours, duration })\n    }\n  }\n\n  const clear = (): void => {\n    setInputs([initialInput])\n    setResult(initialResult)\n  }\n\n  return (\n    <div style={{ margin: 16, fontFamily: 'sans-serif' }}>\n      <h1>Calculate Duration</h1>\n\n      {/* horizontal break */}\n      <div\n        style={{\n          width: 60,\n          height: 5,\n          borderRadius: 5,\n          background: 'lightblue'\n        }}\n      />\n\n      {/* input list */}\n      <div style={{ marginTop: 24, width: 420 }}>\n        <div\n          style={{\n            display: 'flex',\n            justifyContent: 'space-between',\n            alignItems: 'center'\n          }}>\n          <div>Input a time duration in string to get started</div>\n          <button onClick={addInput}>Add field</button>\n        </div>\n\n        {/* inputs */}\n        <div style={{ marginTop: 16 }}>\n          {inputs.map((el, i) => {\n            return (\n              <div key={`inputs${i}`} style={{ margin: '14px 0', height: 24 }}>\n                <input\n                  type=\"text\"\n                  style={{ height: 'inherit', marginRight: 6 }}\n                  value={el.value}\n                  onBlur={e => validateInput(i, e.target.value)}\n                  onChange={e => handleInput(i, e.target.value)}\n                />\n                <button style={{ height: 30 }} onClick={() => removeInput(i)}>\n                  x\n                </button>\n                {el.error && (\n                  <span style={{ marginLeft: 16, fontSize: 14, color: '#EF5D7B' }}>\n\t\t\t\t\t\t\t\t\t\t{el.error}\n\t\t\t\t\t\t\t\t\t</span>\n                )}\n              </div>\n            )\n          })}\n        </div>\n\n        <div style={{ marginTop: 24 }}>\n          <button className={css([styles.defaultButton, styles.calculateButton])} onClick={calculate}>Calculate!</button>\n          <button className={css([styles.defaultButton, styles.clearButton])} onClick={clear}>x</button>\n          <span className={css(styles.result)}>{result.decimal.toFixed(2)}</span>\n          <span className={css(styles.result)}>{result.duration}</span>\n        </div>\n\n        {/* footer */}\n        <div style={{ marginTop: 64 }}>\n          <div style={{ fontSize: 13, color: '#B3B3B3' }}>Ronna Firmo ©2020</div>\n          <div style={{ fontSize: 9, color: '#D9D9D9' }}>Made to calculate total duration in decimal for my timesheet</div>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nconst styles = StyleSheet.create({\n  defaultButton: {\n    marginTop: 12,\n    border: 0,\n    borderRadius: 2,\n    boxShadow: '0 4px 0 0 #C9C9C9',\n    outline: 'none',\n    ':hover': {\n      background: '#EBEBEB'\n    },\n    ':active': {\n      background: '#E4E4E4',\n      boxShadow: '0 2px 0 0 #C9C9C9',\n      transform: 'translate(0, 2px)'\n    }\n  },\n  calculateButton: {\n    padding: '12px 18px',\n  },\n  clearButton: {\n    padding: 12,\n    marginLeft: 4\n  },\n  result: {\n    marginLeft: 24,\n    fontSize: 18,\n    fontWeight: 'bold',\n    background: 'yellow',\n    padding: '0px 6px'\n  }\n})\n\nexport default App\n"]},"metadata":{},"sourceType":"module"}